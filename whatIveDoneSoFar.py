import json
import demjson
import datetime

#{'19th January': {'9:00 - 11:00': ['title': '207SE (LECTURE) COMPSCILEC', 'moduleDesc': 'Operating Systems and Security', 'room': 'ECG-24', 'lecturer': 'Dr Mark Elshaw', 'description': '', 'building': 'Engineering &amp; Computing']}}
#is returned

event = demjson.decode("{'event193': {'title': '207SE (LECTURE) COMPSCILEC', 'moduleDesc': 'Operating Systems and Security', 'room': 'ECG-24', 'lecturer': 'Dr Mark Elshaw', 'description': '', 'start': [2019, 1, 19, 9, 0], 'end': [2019, 1, 19, 11, 0], 'building': 'Engineering &amp; Computing'}, 'event194': {'title': '207SE (LECTURE) COMPSCILEC', 'moduleDesc': 'Operating Systems and Security', 'room': 'ECG-24', 'lecturer': 'Dr Mark Elshaw', 'description': '', 'start': [2019, 1, 26, 9, 0], 'end': [2019, 1, 26, 11, 0], 'building': 'Engineering &amp; Computing'}, 'event195': {'title': '207SE (LECTURE) COMPSCILEC', 'moduleDesc': 'Operating Systems and Security', 'room': 'ECG-24', 'lecturer': 'Dr Mark Elshaw', 'description': '', 'start': [2019, 2, 5, 9, 0], 'end': [2019, 2, 5, 11, 0], 'building': 'Engineering &amp; Computing'}, 'event196': {'title': '207SE (LECTURE) COMPSCILEC', 'moduleDesc': 'Operating Systems and Security', 'room': 'ECG-24', 'lecturer': 'Dr Mark Elshaw', 'description': '', 'start': [2019, 2, 12, 9, 0], 'end': [2019, 2, 12, 11, 0], 'building': 'Engineering &amp; Computing'}, 'event226': {'title': '260CT (LECTURE) ', 'moduleDesc': 'Software Systems Engineering', 'room': 'ECG-24', 'lecturer': 'Dr Yih-Ling Hedley', 'description': '', 'start': [2019, 1, 21, 9, 0], 'end': [2019, 1, 21, 11, 0], 'building': 'Engineering &amp; Computing'}, 'event227': {'title': '260CT (LECTURE) ', 'moduleDesc': 'Software Systems Engineering', 'room': 'ECG-24', 'lecturer': 'Dr Yih-Ling Hedley', 'description': '', 'start': [2019, 1, 28, 9, 0], 'end': [2019, 1, 28, 11, 0], 'building': 'Engineering &amp; Computing'}, 'event228': {'title': '260CT (LECTURE) ', 'moduleDesc': 'Software Systems Engineering', 'room': 'ECG-24', 'lecturer': 'Dr Yih-Ling Hedley', 'description': '', 'start': [2019, 2, 7, 9, 0], 'end': [2019, 2, 7, 11, 0], 'building': 'Engineering &amp; Computing'}, 'event229': {'title': '260CT (LECTURE) ', 'moduleDesc': 'Software Systems Engineering', 'room': 'ECG-24', 'lecturer': 'Dr Yih-Ling Hedley', 'description': '', 'start': [2019, 2, 14, 9, 0], 'end': [2019, 2, 14, 11, 0], 'building': 'Engineering &amp; Computing'}, 'event237': {'title': '260CT (PC) COMPSCI-A, 260CT (PC) COMPSCI-E', 'moduleDesc': 'Software Systems Engineering', 'room': 'ASG31', 'lecturer': 'Dr Beate Grawemeyer; Dr Yih-Ling Hedley; Mr Colin Stephen; Dr Seyed Mousavi', 'description': '', 'start': [2019, 1, 21, 12, 0], 'end': [2019, 1, 21, 14, 0], 'building': 'Engineering &amp; Computing'}, 'event238': {'title': '260CT (PC) COMPSCI-A, 260CT (PC) COMPSCI-E', 'moduleDesc': 'Software Systems Engineering', 'room': 'ASG31', 'lecturer': 'Mr Colin Stephen; Dr Yih-Ling Hedley; Dr Seyed Mousavi; Dr Beate Grawemeyer', 'description': '', 'start': [2019, 1, 28, 12, 0], 'end': [2019, 1, 28, 14, 0], 'building': 'Engineering &amp; Computing'}, 'event239': {'title': '260CT (PC) COMPSCI-A, 260CT (PC) COMPSCI-E', 'moduleDesc': 'Software Systems Engineering', 'room': 'ASG31', 'lecturer': 'Mr Colin Stephen; Dr Beate Grawemeyer; Dr Seyed Mousavi; Dr Yih-Ling Hedley', 'description': '', 'start': [2019, 2, 7, 12, 0], 'end': [2019, 2, 7, 14, 0], 'building': 'Engineering &amp; Computing'}, 'event240': {'title': '260CT (PC) COMPSCI-A, 260CT (PC) COMPSCI-E', 'moduleDesc': 'Software Systems Engineering', 'room': 'ASG31', 'lecturer': 'Mr Colin Stephen; Dr Beate Grawemeyer; Dr Seyed Mousavi; Dr Yih-Ling Hedley', 'description': '', 'start': [2019, 2, 14, 12, 0], 'end': [2019, 2, 14, 14, 0], 'building': 'Engineering &amp; Computing'}, 'event248': {'title': '207SE (PC) COMPSCI-A', 'moduleDesc': 'Operating Systems and Security', 'room': 'EC1-02', 'lecturer': 'Dr Mark Elshaw', 'description': 'LAPTOPS', 'start': [2019, 1, 20, 11, 0], 'end': [2019, 1, 20, 13, 0], 'building': 'Engineering &amp; Computing'}, 'event249': {'title': '207SE (PC) COMPSCI-A', 'moduleDesc': 'Operating Systems and Security', 'room': 'EC1-02', 'lecturer': 'Dr Mark Elshaw', 'description': 'LAPTOPS', 'start': [2019, 1, 27, 11, 0], 'end': [2019, 1, 27, 13, 0], 'building': 'Engineering &amp; Computing'}, 'event250': {'title': '207SE (PC) COMPSCI-A', 'moduleDesc': 'Operating Systems and Security', 'room': 'EC1-02', 'lecturer': 'Dr Mark Elshaw', 'description': 'LAPTOPS', 'start': [2019, 2, 6, 11, 0], 'end': [2019, 2, 6, 13, 0], 'building': 'Engineering &amp; Computing'}, 'event251': {'title': '207SE (PC) COMPSCI-A', 'moduleDesc': 'Operating Systems and Security', 'room': 'EC1-02', 'lecturer': 'Dr Mark Elshaw', 'description': 'LAPTOPS', 'start': [2019, 2, 13, 11, 0], 'end': [2019, 2, 13, 13, 0], 'building': 'Engineering &amp; Computing'}, 'event259': {'title': '206CDE (TUTORIAL) EHCS-01, 206CDE (TUTORIAL) COM/SCI-01', 'moduleDesc': 'Real World Project', 'room': 'EC1-03', 'lecturer': 'Dr Derrick Newton; Dr Simon Billings', 'description': '', 'start': [2019, 1, 18, 13, 0], 'end': [2019, 1, 18, 15, 0], 'building': 'Engineering &amp; Computing'}, 'event260': {'title': '206CDE (TUTORIAL) COM/SCI-01, 206CDE (TUTORIAL) EHCS-01', 'moduleDesc': 'Real World Project', 'room': 'EC1-03', 'lecturer': 'Dr Simon Billings; Dr Derrick Newton', 'description': '', 'start': [2019, 1, 25, 13, 0], 'end': [2019, 1, 25, 15, 0], 'building': 'Engineering &amp; Computing'}, 'event261': {'title': '206CDE (TUTORIAL) COM/SCI-01, 206CDE (TUTORIAL) EHCS-01', 'moduleDesc': 'Real World Project', 'room': 'EC1-03', 'lecturer': 'Dr Simon Billings; Dr Derrick Newton', 'description': '', 'start': [2019, 2, 4, 13, 0], 'end': [2019, 2, 4, 15, 0], 'building': 'Engineering &amp; Computing'}, 'event262': {'title': '206CDE (TUTORIAL) EHCS-01, 206CDE (TUTORIAL) COM/SCI-01', 'moduleDesc': 'Real World Project', 'room': 'EC1-03', 'lecturer': 'Dr Derrick Newton; Dr Simon Billings', 'description': '', 'start': [2019, 2, 11, 13, 0], 'end': [2019, 2, 11, 15, 0], 'building': 'Engineering &amp; Computing'}, 'event263': {'title': '206CDE (TUTORIAL) COM/SCI-01, 206CDE (TUTORIAL) EHCS-01', 'moduleDesc': 'Real World Project', 'room': 'EC1-03', 'lecturer': 'Dr Simon Billings; Dr Derrick Newton', 'description': '', 'start': [2019, 2, 18, 13, 0], 'end': [2019, 2, 18, 15, 0], 'building': 'Engineering &amp; Computing'}, 'event324': {'title': '206CDE (LECTURE) COM/SCI-07, 206CDE (LECTURE) COM/SCI-01, 206CDE (LECTURE) EHCS-03, 206CDE (LECTURE) COM/SCI-05, 206CDE (LECTURE) EHCS-02, 206CDE (LECTURE) MMEDIACOMP, 206CDE (LECTURE) COM/SCI-03, 206CDE (LECTURE) EHCS-01', 'moduleDesc': 'Real World Project', 'room': 'ECG-26', 'lecturer': 'Dr Simon Billings', 'description': '', 'start': [2019, 1, 18, 12, 0], 'end': [2019, 1, 18, 13, 0], 'building': 'Engineering &amp; Computing'}, 'event325': {'title': '206CDE (LECTURE) EHCS-01, 206CDE (LECTURE) COM/SCI-07, 206CDE (LECTURE) COM/SCI-05, 206CDE (LECTURE) COM/SCI-03, 206CDE (LECTURE) EHCS-02, 206CDE (LECTURE) MMEDIACOMP, 206CDE (LECTURE) EHCS-03, 206CDE (LECTURE) COM/SCI-01', 'moduleDesc': 'Real World Project', 'room': 'ECG-26', 'lecturer': 'Dr Simon Billings', 'description': '', 'start': [2019, 1, 25, 12, 0], 'end': [2019, 1, 25, 13, 0], 'building': 'Engineering &amp; Computing'}, 'event326': {'title': '206CDE (LECTURE) EHCS-01, 206CDE (LECTURE) COM/SCI-07, 206CDE (LECTURE) EHCS-02, 206CDE (LECTURE) COM/SCI-01, 206CDE (LECTURE) EHCS-03, 206CDE (LECTURE) COM/SCI-03, 206CDE (LECTURE) MMEDIACOMP, 206CDE (LECTURE) COM/SCI-05', 'moduleDesc': 'Real World Project', 'room': 'ECG-26', 'lecturer': 'Dr Simon Billings', 'description': '', 'start': [2019, 2, 4, 12, 0], 'end': [2019, 2, 4, 13, 0], 'building': 'Engineering &amp; Computing'}, 'event327': {'title': '206CDE (LECTURE) COM/SCI-05, 206CDE (LECTURE) MMEDIACOMP, 206CDE (LECTURE) COM/SCI-07, 206CDE (LECTURE) COM/SCI-01, 206CDE (LECTURE) EHCS-03, 206CDE (LECTURE) EHCS-02, 206CDE (LECTURE) COM/SCI-03, 206CDE (LECTURE) EHCS-01', 'moduleDesc': 'Real World Project', 'room': 'ECG-26', 'lecturer': 'Dr Simon Billings', 'description': '', 'start': [2019, 2, 11, 12, 0], 'end': [2019, 2, 11, 13, 0], 'building': 'Engineering &amp; Computing'}, 'event328': {'title': '206CDE (LECTURE) EHCS-03, 206CDE (LECTURE) COM/SCI-05, 206CDE (LECTURE) COM/SCI-01, 206CDE (LECTURE) EHCS-02, 206CDE (LECTURE) COM/SCI-03, 206CDE (LECTURE) EHCS-01, 206CDE (LECTURE) MMEDIACOMP, 206CDE (LECTURE) COM/SCI-07', 'moduleDesc': 'Real World Project', 'room': 'ECG-26', 'lecturer': 'Dr Simon Billings', 'description': '', 'start': [2019, 2, 18, 12, 0], 'end': [2019, 2, 18, 13, 0], 'building': 'Engineering &amp; Computing'}, 'event348': {'title': '260CT (PC) COMPSCI-A', 'moduleDesc': 'Software Systems Engineering', 'room': 'ECG-14', 'lecturer': 'Dr Xingang Wang; Dr Yih-Ling Hedley; Dr Beate Grawemeyer', 'description': '', 'start': [2019, 1, 22, 16, 0], 'end': [2019, 1, 22, 18, 0], 'building': 'Engineering &amp; Computing'}, 'event349': {'title': '260CT (PC) COMPSCI-A', 'moduleDesc': 'Software Systems Engineering', 'room': 'ECG-14', 'lecturer': 'Dr Xingang Wang; Dr Yih-Ling Hedley; Dr Beate Grawemeyer', 'description': '', 'start': [2019, 2, 1, 16, 0], 'end': [2019, 2, 1, 18, 0], 'building': 'Engineering &amp; Computing'}, 'event350': {'title': '260CT (PC) COMPSCI-A', 'moduleDesc': 'Software Systems Engineering', 'room': 'ECG-14', 'lecturer': 'Dr Beate Grawemeyer; Dr Xingang Wang; Dr Yih-Ling Hedley', 'description': '', 'start': [2019, 2, 8, 16, 0], 'end': [2019, 2, 8, 18, 0], 'building': 'Engineering &amp; Computing'}, 'event351': {'title': '260CT (PC) COMPSCI-A', 'moduleDesc': 'Software Systems Engineering', 'room': 'ECG-14', 'lecturer': 'Dr Xingang Wang; Dr Beate Grawemeyer; Dr Yih-Ling Hedley', 'description': '', 'start': [2019, 2, 15, 16, 0], 'end': [2019, 2, 15, 18, 0], 'building': 'Engineering &amp; Computing'}, 'event359': {'title': '207SE (PC) COMPSCI-A', 'moduleDesc': 'Operating Systems and Security', 'room': 'EC1-02', 'lecturer': 'Dr Beate Grawemeyer', 'description': 'LAPTOPS', 'start': [2019, 1, 22, 14, 0], 'end': [2019, 1, 22, 16, 0], 'building': 'Engineering &amp; Computing'}, 'event360': {'title': '207SE (PC) COMPSCI-A', 'moduleDesc': 'Operating Systems and Security', 'room': 'EC1-02', 'lecturer': 'Dr Beate Grawemeyer', 'description': 'LAPTOPS', 'start': [2019, 2, 1, 14, 0], 'end': [2019, 2, 1, 16, 0], 'building': 'Engineering &amp; Computing'}, 'event361': {'title': '207SE (PC) COMPSCI-A', 'moduleDesc': 'Operating Systems and Security', 'room': 'EC1-02', 'lecturer': 'Dr Beate Grawemeyer', 'description': 'LAPTOPS', 'start': [2019, 2, 8, 14, 0], 'end': [2019, 2, 8, 16, 0], 'building': 'Engineering &amp; Computing'}, 'event362': {'title': '207SE (PC) COMPSCI-A', 'moduleDesc': 'Operating Systems and Security', 'room': 'EC1-02', 'lecturer': 'Dr Beate Grawemeyer', 'description': 'LAPTOPS', 'start': [2019, 2, 15, 14, 0], 'end': [2019, 2, 15, 16, 0], 'building': 'Engineering &amp; Computing'}}")
def formatEvent(event):
    for i in event:
        eventID = i
    start = event[eventID]['start']
    end = event[eventID]['end']

    day = start[2]
    monthDic = { 0 : "January", 1 : "February", 2 : "March", 3 : "April", 4 : "May", 5 : "June", 6 : "July", 7 : "August", 8 : "September", 9 : "October", 10 : "November", 11 : "December"}
    month = monthDic[start[1] + 1]
    if day == 1 or day == 21:
        suffix = "st"
    elif day == 2 or day == 22:
        suffix = "nd"
    elif day == 3 or day == 23:
        suffix = "rd"
    else:
        suffix = "th"
    dateKey = str(day) + suffix + " " + str(month)
    
    if start[4] == 0:
        sMinute = "00"
    else:
        sMinute = start[4]
    if end[4] == 0:
        eMinute = "00"
    else:
        eMinute = end[4]
    time = str(start[3]) + ":" + sMinute + " - " + str(end[3]) + ":" + eMinute
    del event[eventID]['start'] # REPLACES start VALUE WITH THE TIME FOR EACH LECTURE
    del event[eventID]["end"] # DELETES end AS A KEY : VALUE
    event[time] = event.pop(eventID)
    formattedEvent = [dateKey, [event]]
    return formattedEvent

def formatIntoDays(monthView):
    eventList = list()
    tempDict = dict()
    
    for i in monthView:
        tempDict["event"] = monthView[i]
        formattedEvent = formatEvent(tempDict)
        eventList.append(formattedEvent)            
    return eventList



fml = formatIntoDays(event)

print(fml)
